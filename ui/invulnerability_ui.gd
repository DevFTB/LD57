extends Range

@export var player : Player
@export var timer: Timer
func _ready() -> void:
	update()
	player.invulnerability_unlocked.connect(update)

func _process(_delta: float) -> void:
	if visible and timer:
		update()

func update() -> void:
	max_value = timer.wait_time
	value = timer.time_left
	var invulnerability_unlocked = player.invulnerability_duration > 0
	visible = invulnerability_unlocked
